
// Online C++ Compiler - Build, Compile and Run your C++ programs online in your
// favorite browser

#include <iostream>
#include <map>
#include <random>
#include <vector>

using namespace std;

vector<int> sampling(vector<int> input, int k) {
  map<int, int> counter;
  vector<int> keys;
  vector<int> answer;

  for (int n : input) {// O(n)
    if (counter.count(n) == 1) {
      counter[n] += 1;
    } else {
      counter.insert(make_pair(n, 1));
      keys.push_back(n);
    }
  }

  for (int i = 0; i < k; i++) {// O(k)
    random_device rd;
    mt19937 eng(rd());
    uniform_int_distribution<> distr(0, keys.size() - 1);//get random index
    int l = keys[distr(eng)];
    if (counter[l] > 0) {//check exist number
      answer.push_back(l);
      counter[l] -= 1;
    } else {
      keys.erase(keys.begin() + l);
      i--;
    }
  }

  return answer;
}

int main() {
  vector<int> input = {1, 2, 5, 6, 3, 1, 23, 5, 12};
  vector<int> v = sampling(input, 3);
  for (int n : v) {
    cout << n << endl;
  }
}
